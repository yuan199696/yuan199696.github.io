<!-- build time:Thu Dec 30 2021 20:23:10 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" href="https://baiyezi.vip/rss.xml"><link rel="alternate" type="application/atom+xml" href="https://baiyezi.vip/atom.xml"><link rel="alternate" type="application/json" href="https://baiyezi.vip/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Java,JVM"><link rel="canonical" href="https://baiyezi.vip/java/JVM/JVM-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA/"><title>JVM-对象的创建 - Java |</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">JVM-对象的创建</h1><div class="meta"><span class="item" title="创建时间：2021-06-01 20:20:54"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-06-01T20:20:54+08:00">2021-06-01</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>10k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>9 分钟</span> </span><span id="java/JVM/JVM-对象的创建/" class="item leancloud_visitors" data-flag-title="" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start"></a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://gitee.com/bfanfanfan/img/raw/master/docsify/20211228230925.png"></li><li class="item" data-background-image="https://gitee.com/bfanfanfan/img/raw/master/guzhuang/20211225105422.jpg"></li><li class="item" data-background-image="https://gitee.com/bfanfanfan/img/raw/master/docsify/20211228231352.png"></li><li class="item" data-background-image="https://gitee.com/bfanfanfan/img/raw/master/guzhuang/20211225105420.jpg"></li><li class="item" data-background-image="https://gitee.com/bfanfanfan/img/raw/master/docsify/20211228231117.png"></li><li class="item" data-background-image="https://gitee.com/bfanfanfan/img/raw/master/guzhuang/20211225104957.png"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/java/" itemprop="item" rel="index" title="分类于 Java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://baiyezi.vip/java/JVM/JVM-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="fanfanfan"><meta itemprop="description" content=", 花有重开日，人无再少年"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content=""></span><div class="body md" itemprop="articleBody"><h2 id="对象的创建过程"><a class="anchor" href="#对象的创建过程">#</a> 对象的创建过程</h2><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301101751917.png" alt="image-20210301101751917"></p><ol><li><p>类的初始化：class 文件加载到内存后，对 class 文件进行校验，对类的静态变量赋默认值以及初始值，执行静态语句块。接下来就是对象的初始化：</p></li><li><p>申请对象内存</p></li><li><p>成员变量赋默认值</p></li><li><p>调用构造方法 &lt;init&gt;</p></li><li><p>成员变量顺序赋初始值</p></li><li><p>执行构造方法语句：如果继承了父类的话，调用 super 初始化父类</p></li></ol><h2 id="对象在内存中的存储布局"><a class="anchor" href="#对象在内存中的存储布局">#</a> 对象在内存中的存储布局</h2><p>以下将在 64 位机的前提下进行</p><h3 id="虚拟机配置"><a class="anchor" href="#虚拟机配置">#</a> 虚拟机配置</h3><figure class="highlight powershell"><figcaption data-lang="PowerShell"></figcaption><table><tr><td data-num="1"></td><td><pre>C:\>java <span class="token operator">-</span>XX:<span class="token operator">+</span>PrintCommandLineFlags <span class="token operator">-</span>version</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">-</span>XX:InitialHeapSize=130856640 <span class="token operator">-</span>XX:MaxHeapSize=2093706240 <span class="token operator">-</span>XX:<span class="token operator">+</span>PrintCommandLineFlags <span class="token operator">-</span>XX:<span class="token operator">+</span>UseCompressedClassPointers <span class="token operator">-</span>XX:<span class="token operator">+</span>UseCompressedOops <span class="token operator">-</span>XX:<span class="token operator">-</span>UseLargePagesIndividualAllocation <span class="token operator">-</span>XX:<span class="token operator">+</span>UseParallelGC</pre></td></tr><tr><td data-num="4"></td><td><pre>java version <span class="token string">"1.8.0_202"</span></pre></td></tr><tr><td data-num="5"></td><td><pre>Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment <span class="token punctuation">(</span>build 1<span class="token punctuation">.</span>8<span class="token punctuation">.</span>0_202<span class="token operator">-</span>b08<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> 64<span class="token operator">-</span>Bit Server VM <span class="token punctuation">(</span>build 25<span class="token punctuation">.</span>202<span class="token operator">-</span>b08<span class="token punctuation">,</span> mixed mode<span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="普通对象"><a class="anchor" href="#普通对象">#</a> 普通对象</h3><ol><li><p>对象头：markword，大小 8 字节 ，hotspot 中为 markword</p></li><li><p>ClassPointer 指针（指向 class）：-XX:+UseCompressedClassPointers 类指针压缩默认打开，大小为 4 字节，不开启为 8 字节。把前面的 “+” 改为 “-” 表示关闭压缩。</p></li><li><p>实例数据：成员变量</p><ol><li>引用类型：-XX:+UseCompressedOops 普通对象指针默认打开，大小为 4 字节，不开启为 8 字节。<br>Oops： Ordinary Object Pointers，即普通对象指针，成员变量为引用类型时的指针。</li></ol></li><li><p>Padding 对齐：按块来读取（提高效率），8 的倍数</p></li></ol><h3 id="数组对象"><a class="anchor" href="#数组对象">#</a> 数组对象</h3><ol><li>对象头：markword 8</li><li>ClassPointer 指针同上</li><li>数组长度：4 字节</li><li>数组数据</li><li>对齐 8 的倍数</li></ol><h3 id="对象的大小"><a class="anchor" href="#对象的大小">#</a> 对象的大小</h3><p>Agent：在 class 文件加载到内存的过程中，可以使用 agent 来截获 class 文件，从而可以计算出 class 文件的大小。以下是一种计算对象大小的方法。</p><ol><li><p>新建项目 ObjectSize （1.8）</p></li><li><p>创建文件 ObjectSizeAgent</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span>jvm<span class="token punctuation">.</span>agent</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>instrument<span class="token punctuation">.</span></span><span class="token class-name">Instrumentation</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ObjectSizeAgent</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Instrumentation</span> inst<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// 固定方法，jvm 将调用该方法，实例化 Instrumentation</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">premain</span><span class="token punctuation">(</span><span class="token class-name">String</span> agentArgs<span class="token punctuation">,</span> <span class="token class-name">Instrumentation</span> _inst<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        inst <span class="token operator">=</span> _inst<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">// 自定义方法，计算对象的大小</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">sizeOf</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">return</span> inst<span class="token punctuation">.</span><span class="token function">getObjectSize</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>src 目录下创建 META-INF/MANIFEST.MF。代表在执行主方法前将执行 ObjectSizeAgent</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Manifest</span><span class="token operator">-</span><span class="token class-name">Version</span><span class="token operator">:</span> <span class="token number">1.0</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">Created</span><span class="token operator">-</span><span class="token class-name">By</span><span class="token operator">:</span> fan<span class="token punctuation">.</span>com</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">Premain</span><span class="token operator">-</span><span class="token class-name">Class</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span>jvm<span class="token punctuation">.</span>agent<span class="token punctuation">.</span></span>ObjectSizeAgent</span></pre></td></tr></table></figure><p>注意 Premain-Class 这行必须是新的一行（回车 + 换行），确认 idea 不能有任何错误提示</p></li><li><p>打包 jar 文件</p></li><li><p>在需要使用该 Agent Jar 的项目中引入该 Jar 包<br>project structure - project settings - library 添加该 jar 包</p></li><li><p>运行时需要该 Agent Jar 的类，加入参数：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">-</span>javaagent<span class="token operator">:</span><span class="token class-name">C</span><span class="token operator">:</span>\work\ijprojects\<span class="token class-name">ObjectSize</span>\out\artifacts\<span class="token class-name">ObjectSize_jar</span>\<span class="token class-name">ObjectSize</span><span class="token punctuation">.</span>jar</pre></td></tr></table></figure></li><li><p>如何使用该类：</p></li></ol><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre>```java</pre></td></tr><tr><td data-num="2"></td><td><pre>   <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span>jvm<span class="token punctuation">.</span>c3_jmm</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   </pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span>jvm<span class="token punctuation">.</span>agent<span class="token punctuation">.</span></span><span class="token class-name">ObjectSizeAgent</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   </pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T03_SizeOfAnObject</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ObjectSizeAgent</span><span class="token punctuation">.</span><span class="token function">sizeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ObjectSizeAgent</span><span class="token punctuation">.</span><span class="token function">sizeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ObjectSizeAgent</span><span class="token punctuation">.</span><span class="token function">sizeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">P</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>   </pre></td></tr><tr><td data-num="13"></td><td><pre>       <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>                           <span class="token comment">//8 _markword</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                           <span class="token comment">//4 _oop 指针</span></pre></td></tr><tr><td data-num="16"></td><td><pre>           <span class="token keyword">int</span> id<span class="token punctuation">;</span>         <span class="token comment">//4</span></pre></td></tr><tr><td data-num="17"></td><td><pre>           <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token comment">//4，OOPS，普通对象指针，</span></pre></td></tr><tr><td data-num="18"></td><td><pre>           <span class="token keyword">int</span> age<span class="token punctuation">;</span>        <span class="token comment">//4</span></pre></td></tr><tr><td data-num="19"></td><td><pre>   </pre></td></tr><tr><td data-num="20"></td><td><pre>           <span class="token keyword">byte</span> b1<span class="token punctuation">;</span>        <span class="token comment">//1</span></pre></td></tr><tr><td data-num="21"></td><td><pre>           <span class="token keyword">byte</span> b2<span class="token punctuation">;</span>        <span class="token comment">//1</span></pre></td></tr><tr><td data-num="22"></td><td><pre>   </pre></td></tr><tr><td data-num="23"></td><td><pre>           <span class="token class-name">Object</span> o<span class="token punctuation">;</span>       <span class="token comment">//4，普通对象指针</span></pre></td></tr><tr><td data-num="24"></td><td><pre>           <span class="token keyword">byte</span> b3<span class="token punctuation">;</span>        <span class="token comment">//1</span></pre></td></tr><tr><td data-num="25"></td><td><pre>   </pre></td></tr><tr><td data-num="26"></td><td><pre>       <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>输出结果</p><pre><code>16    -对象头8字节，ClassPointer 8字节被压缩为4字节，没有成员变量，所以数据大小为0，padding对齐为4字节，总共16字节
16    -对象头8字节，ClassPointer 4字节，数组长度为4字节，总共16字节
32
</code></pre><h2 id="对象头具体内容"><a class="anchor" href="#对象头具体内容">#</a> 对象头具体内容</h2><p>以 HotSpot 为例，JDK1.8</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301143756236.png" alt="image-20210301143756236"></p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301144334749.png" alt="image-20210301144334749"></p><ol><li><p>对象的 hashCode（25bit）</p><p>当未重写 hashCode 时，将根据内存布局生成一个 hashCode，该 hashCode 称之为 identityHashCode。而当一个对象计算过 hashCode 后，该对象将无法进入偏向锁状态，因为对象的 hashCode 占了 25bit，而偏向锁需要这 25bit 的位置来存放线程 ID、Epoch。</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301144454538.png" alt="image-20210301144454538"></p><p>参考：</p><p><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNDgwNTkw">https://cloud.tencent.com/developer/article/1480590</span><br><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNDg0MTY3">https://cloud.tencent.com/developer/article/1484167</span></p><p><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNDg1Nzk1">https://cloud.tencent.com/developer/article/1485795</span></p><p><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNDgyNTAw">https://cloud.tencent.com/developer/article/1482500</span></p></li><li><p>分代年龄（4bit）</p><p>由于 GC 占 4bit，所以 GC 默认且最大为 15（0~15）</p></li><li><p>是否偏向锁（1bit）</p></li><li><p>锁标志位（2bit）</p><p>如果是以上图中指定的锁标志位，代表没有被 synchronized</p></li></ol><h2 id="对象的定位"><a class="anchor" href="#对象的定位">#</a> 对象的定位</h2><p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Nsb3Zlcl9saWx5L2FydGljbGUvZGV0YWlscy84MDA5NTU4MA==">参考</span></p><p>T t = new T ()，那么 t 是如何找到 new 出来的地址空间的？</p><p>不同的虚拟机的实现方式不同</p><p>方式一：（对于 GC 时，效率比较高）</p><p>通过句柄池，一个间接指针，t 指向两个指针，一个指向实际的 T 对象，另外一个指向 T.class</p><p>方式二：（HotSpot 虚拟机的实现方式）</p><p>通过直接指针，该指针指向 T 对象，而 T 对象又指向 T.class</p><h2 id="对象的分配"><a class="anchor" href="#对象的分配">#</a> 对象的分配</h2><p>与 GC 相关，将在 GC 中介绍</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301153407746.png" alt="image-20210301153407746"></p><h2 id="jvm-的运行区和指令集"><a class="anchor" href="#jvm-的运行区和指令集">#</a> JVM 的运行区和指令集</h2><h3 id="jvm-runtime-data-area"><a class="anchor" href="#jvm-runtime-data-area">#</a> JVM Runtime Data Area</h3><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301155551589.png" alt="image-20210301155551589"></p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301160346584.png" alt="image-20210301160346584"></p><ol><li><p>PC (Program Counter)：程序计数器</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301162805474.png" alt="image-20210301162805474"></p><p>用于存放指令的位置。虚拟机的运行，类似于这样的循环：</p><blockquote><p>while( not end ) {</p><p>​	取 PC 中的位置，找到对应位置的指令；</p><p>​	执行该指令；</p><p>​	PC ++;</p><p>}</p></blockquote></li><li><p>JVM stacks：Java 虚拟机栈，由 JVM 内部管理。每个线程都有一个栈，随着线程的启动栈被创建；栈中有若干个栈帧，每个方法都有一个栈帧，随着方法的启动栈帧被创建</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301162852440.png" alt="image-20210301162852440"></p><p>栈帧的组成：</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301165232127.png" alt="image-20210301165232127"></p><ul><li><p>局部变量表（类似于寄存器）</p><p>方法内部使用的变量（包括形参），以下是一个例子</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-01 15:50</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestIPlusPlus</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">//        i = i++; //8</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        i <span class="token operator">=</span> <span class="token operator">++</span>i<span class="token punctuation">;</span> <span class="token comment">//9</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>从字节码看，以上程序中 main 方法的栈帧的局部变量表中有两个局部变量：args 和 i，这俩个局部变量的符号存在常量池中</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301171735677.png" alt="image-20210301171735677"></p><p>那么，i=i++ 为什么输出为 8 呢？这得从字节码的执行指令上解答</p><pre><code class="language-cmd"> 0 bipush 8 #将byte值转换为int值并压入操作数栈
 2 istore_1 #将操作数栈栈顶的值弹出，并赋值给局部变量表中下标为1的变量，此时int i = 8
 3 iload_1 #读取局部变量表中下标为1的变量的值并压入操作数栈中（此时，int i =8，操作数栈中为8）
 4 iinc 1 by 1 #将局部变量表中下标为1 的变量的值加1，此时int i = 9
 7 istore_1 # 将操作数栈栈顶的值弹出，并赋值给局部变量表中下标为1的变量，此时int i=8
 8 getstatic #2 &lt;java/lang/System.out&gt;
11 iload_1
12 invokevirtual #3 &lt;java/io/PrintStream.println&gt;
15 return

</code></pre></li><li><p>操作数栈：用于存放局部变量的值</p></li><li><p>动态连接</p><p>jvms2.6.3 中详细介绍。<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxODEzMDYwL2FydGljbGUvZGV0YWlscy84ODM3OTQ3Mw==">参考</span>。指向常量池中的符号引用（如方法名的符号引用），如果没有解析就动态解析，否则直接使用</p></li><li><p>return address：方法 a 调用了方法 b，方法 b 的返回值存放的位置</p></li></ul></li><li><p>native method stacks：本地方法栈，本地方法是指 JVM 内部由 C、C<ins> 实现的方法，如 JNI 使用 C</ins> 实现</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301163647940.png" alt="image-20210301163647940"></p></li><li><p>method area：方法区，存储每个类的结构、常量池，线程之间共享</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301163227704.png" alt="image-20210301163227704"></p><p>具体实现：JDK 版本不同，其具体实现不同</p><ul><li><p>Perm Space (&lt;1.8)<br>字符串常量位于 PermSpace<br>FGC 不会清理，可能会触发 OOM<br>大小启动的时候指定，不能变</p></li><li><p>Meta Space (&gt;=1.8)<br>字符串常量位于堆<br>会触发 FGC 清理<br>不设定的话，最大就是物理内存</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301163539933.png" alt="image-20210301163539933"></p><blockquote><p>如何证明 1.7 字符串常量位于 Perm，而 1.8 位于 Heap？</p><p>结合 GC，一直创建字符串常量，观察堆和 perm，并查看报错信息</p></blockquote></li></ul></li><li><p>Heap：堆，线程之间共享</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210301162939159.png" alt="image-20210301162939159"></p></li><li><p>Direct Memeory：直接内存（由操作系统直接管理的内核空间，老版本中当 JVM 需要访问该空间时首先需要将该空间拷贝，JDK1.4 之后，JVM 可以直接访问该空间，提高效率），JDK1.4 之后增加，与 NIO 相关</p></li></ol><h3 id="指令集"><a class="anchor" href="#指令集">#</a> 指令集</h3><ul><li>基于栈的指令集（如 JVM），比较简单</li><li>基于寄存器的指令集（如汇编），比较复杂，速度快</li></ul><p>JVM 常用指令：</p><ul><li><p>&lt;clinit&gt;：调用静态块</p></li><li><p>&lt;init&gt;：调用静态方法</p></li><li><p>&lt;_store&gt;：出栈并赋值给指定的局部变量表中的变量</p></li><li><p>&lt;_load&gt;：读取指定局部变量表中变量的值并入栈</p></li><li><p>&lt;invoke_xxx&gt;</p><ul><li><p>invokestatic</p><p>调用静态方法</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 15:33</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InvokeStatic</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd">0 invokestatic #2 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeStatic.m&gt;
3 return

</code></pre></li><li><p>invokevirtual</p><p>调用普通方法，自带多态（调用的可能是重写的方法），调用指定对象的方法</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 15:36</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InvokeVirtual</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">new</span> <span class="token class-name">InvokeVirtual</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd"> 0 new #2 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeVirtual&gt;
 3 dup
 4 invokespecial #3 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeVirtual.&lt;init&gt;&gt;
 7 invokevirtual #4 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeVirtual.m&gt;
10 return

</code></pre></li><li><p>invokeinterface</p><p>通过接口来调用方法</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="7"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="8"></td><td><pre> * @DateTime: 2021-03-02 15:47</pre></td></tr><tr><td data-num="9"></td><td><pre> **/</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InvokeInterface</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd"> 0 new #2 &lt;java/util/ArrayList&gt;
 3 dup
 4 invokespecial #3 &lt;java/util/ArrayList.&lt;init&gt;&gt;
 7 astore_1
 8 aload_1
 9 ldc #4 &lt;hello&gt;
11 invokeinterface #5 &lt;java/util/List.add&gt; count 2
16 pop
17 return

</code></pre></li><li><p>invokespecial</p><p>调用对象的唯一的方法，不可能是重写的方法，如 private 修饰的方法以及构造方法</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 15:40</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InvokeSpecial</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token class-name">InvokeSpecial</span> invokeSpecial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvokeSpecial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        invokeSpecial<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        invokeSpecial<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd"> 0 new #2 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeSpecial&gt;
 3 dup
 4 invokespecial #3 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeSpecial.&lt;init&gt;&gt;
 7 astore_1
 8 aload_1
 9 invokevirtual #4 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeSpecial.m&gt;
12 aload_1
13 invokespecial #5 &lt;com/fan/RuntimeDataAreaAndInstructionSet/InvokeSpecial.n&gt;
16 return

</code></pre></li><li><p>invokeDynamic</p><p>有些 class 文件在运行的时候产生，如使用 lambda 表达式或者反射或者其他动态语言 scala、kotlin</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 15:54</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InvokeDynamic</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token class-name">I</span> i <span class="token operator">=</span> <span class="token class-name">C</span><span class="token operator">::</span><span class="token function">n</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token class-name">I</span> i2 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token operator">::</span><span class="token function">n</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token class-name">I</span> i3 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token operator">::</span><span class="token function">n</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token class-name">I</span> i4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span> <span class="token class-name">C</span><span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i2<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i3<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token annotation punctuation">@FunctionalInterface</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">I</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>     <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd"> 0 invokedynamic #2 &lt;m, BootstrapMethods #0&gt;
 5 astore_1
 6 invokedynamic #2 &lt;m, BootstrapMethods #0&gt;
11 astore_2
12 invokedynamic #2 &lt;m, BootstrapMethods #0&gt;
17 astore_3
18 getstatic #3 &lt;java/lang/System.out&gt;
21 aload_1
22 invokevirtual #4 &lt;java/lang/Object.getClass&gt;
25 invokevirtual #5 &lt;java/io/PrintStream.println&gt;
28 getstatic #3 &lt;java/lang/System.out&gt;
31 aload_2
32 invokevirtual #4 &lt;java/lang/Object.getClass&gt;
35 invokevirtual #5 &lt;java/io/PrintStream.println&gt;
38 getstatic #3 &lt;java/lang/System.out&gt;
41 aload_3
42 invokevirtual #4 &lt;java/lang/Object.getClass&gt;
45 invokevirtual #5 &lt;java/io/PrintStream.println&gt;
48 return

</code></pre><pre><code class="language-cmd">class com.fan.RuntimeDataAreaAndInstructionSet.InvokeDynamic$$Lambda$1/1096979270 #内部类的匿名内部类
class com.fan.RuntimeDataAreaAndInstructionSet.InvokeDynamic$$Lambda$2/1747585824
class com.fan.RuntimeDataAreaAndInstructionSet.InvokeDynamic$$Lambda$3/1023892928
</code></pre></li></ul></li></ul><h2 id="栈帧的详细解释"><a class="anchor" href="#栈帧的详细解释">#</a> 栈帧的详细解释</h2><h3 id="例一"><a class="anchor" href="#例一">#</a> 例一</h3><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 9:15</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello_01</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m2</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd">public static void main(String[] args) &#123;
        int i = 100;
    &#125;

0 bipush 100 #将byte转换为int并压入操作数栈
2 istore_1 #将操作数栈栈顶的值弹出，并赋值给局部变量表中下标为1 的变量
3 return
</code></pre><p>static 方法没有 this，非 static 方法局部变量表中第 0 个位置为 this</p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302094141697.png" alt="image-20210302094141697"></p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302092645857.png" alt="image-20210302092645857"></p><pre><code class="language-cmd">public void m1() &#123;
        int i = 200;
    &#125;

0 sipush 200 #由于200超过了byte能表示的范围，所以使用short，并转换为int后压入操作数栈
3 istore_1 #将操作数栈栈顶的值弹出，并赋值给局部变量表中下标为1的变量
4 return
</code></pre><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302092929946.png" alt="image-20210302092929946"></p><pre><code class="language-cmd">public void m2(int k) &#123;
        int i = 300;
    &#125;

0 sipush 300
3 istore_2
4 return
</code></pre><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302093904508.png" alt="image-20210302093904508"></p><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302094627933.png" alt="image-20210302094627933"></p><pre><code class="language-cmd">public void add(int a, int b) &#123;
        int c = a + b;
    &#125;

0 iload_1 #读取局部变量表中下标为1的变量的值，并压入操作数栈
1 iload_2
2 iadd  #将操作数栈中两个int类型的值相加后放在栈顶
3 istore_3 #将操作数栈栈顶的值弹出后赋值给局部变量表中下标为3 的变量
4 return
</code></pre><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302095241220.png" alt="image-20210302095241220"></p><h3 id="例二"><a class="anchor" href="#例二">#</a> 例二</h3><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 9:16</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello_02</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token class-name">Hello_02</span> h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hello_02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        h<span class="token punctuation">.</span><span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd"> #main()方法
 0 new #2 &lt;com/fan/RuntimeDataAreaAndInstructionSet/Hello_02&gt; #创建对象，给对象赋默认值，并将对象的地址压栈，且地址指向对象，此时对象处于半初始化状态
 3 dup #将栈顶的值（地址值）复制一份，放在栈顶
 4 invokespecial #3 &lt;com/fan/RuntimeDataAreaAndInstructionSet/Hello_02.&lt;init&gt;&gt;  #执行构造方法，将栈顶的地址值弹出（该地址仅用于判断给哪个对象的地址初始化，之后便销毁），给地址空间中的成员变量赋初始值，
 7 astore_1 #将以上赋值好初始值的地址弹出，赋值给局部变量表中h下标为1 的变量h
 8 aload_1 #读取局部变量表中下标为1的变量引用h，并压入栈中
 9 invokevirtual #4 &lt;com/fan/RuntimeDataAreaAndInstructionSet/Hello_02.m1&gt;  #栈中引用h出栈，调用m1()方法
12 return

#m1()方法
0 sipush 200
3 istore_1
4 return #返回到以上main方法的第9tiao指令处

</code></pre><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302111108858.png" alt="image-20210302111108858"></p><h3 id="例三"><a class="anchor" href="#例三">#</a> 例三</h3><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>fan<span class="token punctuation">.</span></span><span class="token class-name">RuntimeDataAreaAndInstructionSet</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="4"></td><td><pre> * @Author: fan</pre></td></tr><tr><td data-num="5"></td><td><pre> * @DateTime: 2021-03-02 9:17</pre></td></tr><tr><td data-num="6"></td><td><pre> **/</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello_04</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token class-name">Hello_04</span> h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hello_04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">int</span> i <span class="token operator">=</span> h<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">m</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><pre><code class="language-cmd">#m方法
 0 iload_1 #读取n的值3，并压入栈中
 1 iconst_1 #将常量1压入栈中
 2 if_icmpne 7 (+5)# 将栈中的两个int值弹出并比较（cmp：compare，ne：not equal），不相等就跳转到第七条指令，相等就执行第五条指令
 5 iconst_1
 6 ireturn
 7 iload_1
 8 aload_0
 9 iload_1
10 iconst_1
11 isub
12 invokevirtual #4 &lt;com/fan/RuntimeDataAreaAndInstructionSet/Hello_04.m&gt;
15 imul
16 ireturn

</code></pre><p><img data-src="https://gitee.com/bfanfanfan/img/raw/master/docsify/image-20210302111945429.png" alt="image-20210302111945429"></p><div class="tags"><a href="/tags/Java/" rel="tag"><i class="ic i-tag"></i> Java</a> <a href="/tags/JVM/" rel="tag"><i class="ic i-tag"></i> JVM</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-12-27 23:23:36" itemprop="dateModified" datetime="2021-12-27T23:23:36+08:00">2021-12-27</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.jpg" alt="fanfanfan 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.jpg" alt="fanfanfan 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="fanfanfan paypal"><p>paypal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>fanfanfan</li><li class="link"><strong>本文链接：</strong> <a href="https://baiyezi.vip/java/JVM/JVM-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA/" title="JVM-对象的创建">https://baiyezi.vip/java/JVM/JVM-对象的创建/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/java/%E4%BA%BF%E7%BA%A7%E6%B5%81%E9%87%8F%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;bfanfanfan&#x2F;img&#x2F;raw&#x2F;master&#x2F;guzhuang&#x2F;20211225105418.jpg" title="分布式系统与高并发系统架构"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Java</span><h3>分布式系统与高并发系统架构</h3></a></div><div class="item right"><a href="/java/JVM/JVM-JVM%E8%B0%83%E4%BC%98/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;gitee.com&#x2F;bfanfanfan&#x2F;img&#x2F;raw&#x2F;master&#x2F;guzhuang&#x2F;20211225105418.jpg" title="JVM-JVM调优"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Java</span><h3>JVM-JVM调优</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">对象的创建过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8%E5%B8%83%E5%B1%80"><span class="toc-number">2.</span> <span class="toc-text">对象在内存中的存储布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text">虚拟机配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.</span> <span class="toc-text">普通对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.3.</span> <span class="toc-text">数组对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="toc-number">2.4.</span> <span class="toc-text">对象的大小</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%A4%B4%E5%85%B7%E4%BD%93%E5%86%85%E5%AE%B9"><span class="toc-number">3.</span> <span class="toc-text">对象头具体内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.</span> <span class="toc-text">对象的定位</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%86%E9%85%8D"><span class="toc-number">5.</span> <span class="toc-text">对象的分配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jvm-%E7%9A%84%E8%BF%90%E8%A1%8C%E5%8C%BA%E5%92%8C%E6%8C%87%E4%BB%A4%E9%9B%86"><span class="toc-number">6.</span> <span class="toc-text">JVM 的运行区和指令集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#jvm-runtime-data-area"><span class="toc-number">6.1.</span> <span class="toc-text">JVM Runtime Data Area</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E9%9B%86"><span class="toc-number">6.2.</span> <span class="toc-text">指令集</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88%E5%B8%A7%E7%9A%84%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A"><span class="toc-number">7.</span> <span class="toc-text">栈帧的详细解释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E4%B8%80"><span class="toc-number">7.1.</span> <span class="toc-text">例一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E4%BA%8C"><span class="toc-number">7.2.</span> <span class="toc-text">例二</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E4%B8%89"><span class="toc-number">7.3.</span> <span class="toc-text">例三</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/java/MySQL/Linux%E4%B8%8B%E5%AE%89%E8%A3%85MySQL/" rel="bookmark" title="Linux下安装MySQL">Linux下安装MySQL</a></li><li><a href="/java/MySQL/MySQL%E5%9F%BA%E7%A1%80/" rel="bookmark" title="MySQL基础">MySQL基础</a></li><li><a href="/java/Spring/IOC%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F%EF%BC%88%E4%B8%80%EF%BC%89/" rel="bookmark" title="IOC配置方式（一）">IOC配置方式（一）</a></li><li><a href="/java/Spring/IOC%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F%EF%BC%88%E4%BA%8C%EF%BC%89/" rel="bookmark" title="IOC配置方式（二）">IOC配置方式（二）</a></li><li><a href="/java/Spring/IOC%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F/" rel="bookmark" title="IOC注解方式">IOC注解方式</a></li><li><a href="/java/Spring/AOP/" rel="bookmark" title="AOP">AOP</a></li><li><a href="/java/SpringBoot/SpringBoot%E5%85%A5%E9%97%A8/" rel="bookmark" title="SpringBoot入门">SpringBoot入门</a></li><li><a href="/java/SpringBoot/SpringBoot-Web%E5%BC%80%E5%8F%91/" rel="bookmark" title="SpringBoot-Web开发">SpringBoot-Web开发</a></li><li><a href="/java/SpringBoot/SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%8E%9F%E7%90%86/" rel="bookmark" title="SpringBoot自动装配原理">SpringBoot自动装配原理</a></li><li><a href="/java/zookeeper/zookeeper%E6%90%AD%E5%BB%BA%E5%8F%8A%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" rel="bookmark" title="zookeeper搭建及基本概念">zookeeper搭建及基本概念</a></li><li><a href="/java/zookeeper/zookeeper%E5%8E%9F%E7%90%86/" rel="bookmark" title="zookeeper原理">zookeeper原理</a></li><li><a href="/java/zookeeper/zookeeper%E6%A1%88%E4%BE%8B/" rel="bookmark" title="zookeeper案例">zookeeper案例</a></li><li><a href="/java/MySQL/MySQL%E8%B0%83%E4%BC%98%EF%BC%88%E4%B8%80%EF%BC%89/" rel="bookmark" title="MySQL调优（一）">MySQL调优（一）</a></li><li><a href="/java/redis/redis%E5%AE%89%E8%A3%85%E5%8F%8ANIO%E5%8E%9F%E7%90%86/" rel="bookmark" title="redis安装及NIO原理">redis安装及NIO原理</a></li><li><a href="/java/SpringMVC/SpringMVC%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%80%EF%BC%89/" rel="bookmark" title="SpringMVC入门（一）">SpringMVC入门（一）</a></li><li><a href="/java/SpringMVC/SpringMVC%E5%85%A5%E9%97%A8%EF%BC%88%E4%BA%8C%EF%BC%89/" rel="bookmark" title="SpringMVC入门（二）">SpringMVC入门（二）</a></li><li><a href="/java/SpringMVC/SpringMVC-REST%E9%A3%8E%E6%A0%BC/" rel="bookmark" title="SpringMVC-REST风格">SpringMVC-REST风格</a></li><li><a href="/java/SpringMVC/SpringMVC%E8%BF%9B%E9%98%B6/" rel="bookmark" title="SpringMVC进阶">SpringMVC进阶</a></li><li><a href="/java/SpringMVC/SpringMVC%E6%BA%90%E7%A0%81%E6%80%BB%E7%BB%93/" rel="bookmark" title="SpringMVC源码总结">SpringMVC源码总结</a></li><li><a href="/java/shiro/shiro%E5%85%A5%E9%97%A8/" rel="bookmark" title="shiro入门">shiro入门</a></li><li><a href="/java/shiro/shiro%E6%95%B4%E5%90%88SpringBoot/" rel="bookmark" title="shiro整合SpringBoot">shiro整合SpringBoot</a></li><li><a href="/java/shiro/shiro%E7%9A%84session%E7%AE%A1%E7%90%86/" rel="bookmark" title="shiro的session管理">shiro的session管理</a></li><li><a href="/java/shiro/shiro%E7%9A%84%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%88%86%E5%B8%83%E5%BC%8F%E7%99%BB%E5%BD%95/" rel="bookmark" title="shiro的缓存机制与分布式登录">shiro的缓存机制与分布式登录</a></li><li><a href="/java/shiro/%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95/" rel="bookmark" title="单点登录">单点登录</a></li><li><a href="/java/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="bookmark" title="线程基础知识">线程基础知识</a></li><li><a href="/java/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%AE%B9%E5%99%A8%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/" rel="bookmark" title="容器与线程池">容器与线程池</a></li><li><a href="/java/docker/Win10%E5%AE%89%E8%A3%85docker/" rel="bookmark" title="Win10安装docker">Win10安装docker</a></li><li><a href="/java/docker/Win10%E4%B8%ADdocker%E9%83%A8%E7%BD%B2springboot%E9%A1%B9%E7%9B%AE/" rel="bookmark" title="Win10安装docker">Win10安装docker</a></li><li><a href="/java/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/JMH/" rel="bookmark" title="JMH">JMH</a></li><li><a href="/java/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="bookmark" title="并发编程">并发编程</a></li><li><a href="/java/%E6%97%A5%E5%BF%97/java-%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB/" rel="bookmark" title="java-日志体系">java-日志体系</a></li><li><a href="/java/redis/redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" rel="bookmark" title="redis的数据类型">redis的数据类型</a></li><li><a href="/java/redis/redis%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/" rel="bookmark" title="redis进阶使用">redis进阶使用</a></li><li><a href="/java/redis/redis%E7%9A%84%E9%9B%86%E7%BE%A4/" rel="bookmark" title="redis的集群">redis的集群</a></li><li><a href="/java/redis/redis%E5%9C%A8%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" rel="bookmark" title="redis在开发中的简单使用">redis在开发中的简单使用</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/ChainOfResponsibility%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="ChainOfResponsibility责任链模式">ChainOfResponsibility责任链模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Composite%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Composite组合模式">Composite组合模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Decorator%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Decorator装饰器模式">Decorator装饰器模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Facade%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Facade门面模式">Facade门面模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Factory%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Factory工厂模式">Factory工厂模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Flyweight%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Flyweight享元模式">Flyweight享元模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Iterator迭代器模式">Iterator迭代器模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Mediator%E8%B0%83%E5%81%9C%E8%80%85%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Mediator调停者模式">Mediator调停者模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Observer%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Observer观察者模式">Observer观察者模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Proxy%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" rel="bookmark" title="Proxy代理模式">Proxy代理模式</a></li><li><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Singleton%E5%8D%95%E4%BE%8B/" rel="bookmark" title="Singleton单例">Singleton单例</a></li><li><a href="/java/SpringCloud/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BB%A5%E5%8F%8A%E6%9E%B6%E6%9E%84%E5%8F%91%E5%B1%95/" rel="bookmark" title="微服务以及架构发展">微服务以及架构发展</a></li><li><a href="/java/JVM/JVM-%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD/" rel="bookmark" title="JVM-类的加载">JVM-类的加载</a></li><li><a href="/java/SpringCloud/SpringCloud-Netflix%E4%BD%93%E7%B3%BB/" rel="bookmark" title="SpringCloud-Netflix体系">SpringCloud-Netflix体系</a></li><li><a href="/java/%E5%BA%8F%E5%88%97%E5%8C%96/%E5%BA%8F%E5%88%97%E5%8C%96/" rel="bookmark" title="序列化">序列化</a></li><li><a href="/java/JVM/JVM-JMM/" rel="bookmark" title="JVM-JMM">JVM-JMM</a></li><li><a href="/java/%E4%BA%BF%E7%BA%A7%E6%B5%81%E9%87%8F%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/" rel="bookmark" title="分布式系统与高并发系统架构">分布式系统与高并发系统架构</a></li><li class="active"><a href="/java/JVM/JVM-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA/" rel="bookmark" title="JVM-对象的创建">JVM-对象的创建</a></li><li><a href="/java/JVM/JVM-JVM%E8%B0%83%E4%BC%98/" rel="bookmark" title="JVM-JVM调优">JVM-JVM调优</a></li><li><a href="/java/JVM/JVM-GC/" rel="bookmark" title="JVM-GC">JVM-GC</a></li><li><a href="/java/SpringCloud/SpringCloud-Alibaba%E4%BD%93%E7%B3%BB/" rel="bookmark" title="SpringCloud-Alibaba体系">SpringCloud-Alibaba体系</a></li><li><a href="/java/SpringCloud/SpringCloud-SpringCloud%E4%BD%93%E7%B3%BB/" rel="bookmark" title="SpringCloud-SpringCloud体系">SpringCloud-SpringCloud体系</a></li><li><a href="/java/SpringCloud/Apollo/" rel="bookmark" title="Apollo">Apollo</a></li><li><a href="/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BC%9A%E8%AF%9D/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%B8%AD%E7%9A%84%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/" rel="bookmark" title="微服务中的会话管理（一）">微服务中的会话管理（一）</a></li><li><a href="/java/io/%E7%A3%81%E7%9B%98IO%E4%B8%8E%E7%BD%91%E7%BB%9CIO/" rel="bookmark" title="磁盘IO与网络IO">磁盘IO与网络IO</a></li><li><a href="/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BC%9A%E8%AF%9D/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%B8%AD%E7%9A%84%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%EF%BC%88%E4%BA%8C%EF%BC%89/" rel="bookmark" title="微服务中的会话管理（二）">微服务中的会话管理（二）</a></li><li><a href="/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BC%9A%E8%AF%9D/HTTPS/" rel="bookmark" title="HTTPS">HTTPS</a></li><li><a href="/java/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/RocketMQ/RocketMQ-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/" rel="bookmark" title="RocketMQ-基础概念">RocketMQ-基础概念</a></li><li><a href="/java/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/RocketMQ/RocketMQ-%E6%B6%88%E6%81%AF%E3%80%81%E4%BA%8B%E5%8A%A1/" rel="bookmark" title="RocketMQ-消息、事务">RocketMQ-消息、事务</a></li><li><a href="/java/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/" rel="bookmark" title="Kafka-整体架构">Kafka-整体架构</a></li><li><a href="/java/io/%E7%BD%91%E7%BB%9CIO%E6%A8%A1%E5%9E%8B/" rel="bookmark" title="网络IO模型">网络IO模型</a></li><li><a href="/java/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka-%E6%90%AD%E5%BB%BA/" rel="bookmark" title="Kafka-搭建">Kafka-搭建</a></li><li><a href="/java/io/Netty/" rel="bookmark" title="Netty">Netty</a></li><li><a href="/java/Nginx/nginx%E5%AE%9E%E6%88%98/" rel="bookmark" title="nginx实战">nginx实战</a></li><li><a href="/instruments/%E4%B8%B2%E5%8F%A3/Java%E5%92%8C%E4%B8%B2%E5%8F%A3%E8%BF%9B%E8%A1%8C%E9%80%9A%E4%BF%A1/" rel="bookmark" title="Java和串口进行通信">Java和串口进行通信</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="fanfanfan" data-src="/images/avatar.gif"><p class="name" itemprop="name">fanfanfan</p><div class="description" itemprop="description">花有重开日，人无再少年</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">76</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">4</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">78</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-magic"></i>友链</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/statistics/" rel="section"><i class="ic i-heart"></i>文章统计</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/java/%E4%BA%BF%E7%BA%A7%E6%B5%81%E9%87%8F%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/java/JVM/JVM-JVM%E8%B0%83%E4%BC%98/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" title="分类于 微服务">微服务</a></div><span><a href="/java/SpringCloud/SpringCloud-Netflix%E4%BD%93%E7%B3%BB/" title="SpringCloud-Netflix体系">SpringCloud-Netflix体系</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/JVM/JVM-JMM/" title="JVM-JMM">JVM-JMM</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" title="分类于 微服务">微服务</a></div><span><a href="/java/SpringCloud/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BB%A5%E5%8F%8A%E6%9E%B6%E6%9E%84%E5%8F%91%E5%B1%95/" title="微服务以及架构发展">微服务以及架构发展</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BC%9A%E8%AF%9D/HTTPS/" title="HTTPS">HTTPS</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/RocketMQ/RocketMQ-%E6%B6%88%E6%81%AF%E3%80%81%E4%BA%8B%E5%8A%A1/" title="RocketMQ-消息、事务">RocketMQ-消息、事务</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/Spring/IOC%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F/" title="IOC注解方式">IOC注解方式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Observer%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/" title="Observer观察者模式">Observer观察者模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/SpringMVC/SpringMVC%E8%BF%9B%E9%98%B6/" title="SpringMVC进阶">SpringMVC进阶</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/SpringMVC/SpringMVC-REST%E9%A3%8E%E6%A0%BC/" title="SpringMVC-REST风格">SpringMVC-REST风格</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a></div><span><a href="/java/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/%E5%AE%B9%E5%99%A8%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%B1%A0/" title="容器与线程池">容器与线程池</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">fanfanfan</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.4m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">20:37</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div><p>本站总访问量<span id="busuanzi_value_site_pv"></span>次 <span class="post-meta-divider">|</span> 本站访客数<span id="busuanzi_value_site_uv"></span>人</p></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"java/JVM/JVM-对象的创建/",favicon:{show:"书院十四先生",hide:"书院十四先生"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js,npm/echarts@5.2.2/dist/echarts.min.js"></script><script src="/js/app.js?v=0.2.5"></script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?163b363f1983d176d657221fc8e1631b";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html><!-- rebuild by hrmmi -->